<div class="keyword-container">
    <!-- <app-result-header [jobResults]="jobResults"></app-result-header> -->
    <app-job-details *ngIf="productDetails?.length > 0" [headerTitle]="headerTitle" [jobHeaders]="jobHeaders" [productDetails]="productDetails"
        [showCreateButton]="true" (createJob)="addNewKeyword($event)" [pageCount]="totalItems" [showSearch]="true" [currentpageIndex]='currentpageIndex'
        [isLoading]="isLoading" (pageChange)="onPageChange($event)">
        <ng-template #filedsHeader let-product>
            <td>
                <span>{{product?.title}}</span>
            </td>
            <td>
                <span>{{product?.keywordInput}}</span>
            </td>
            <td>
                <span class="status-wrapper" [style.background]="getBackgroundColor(product)">{{product?.status}}</span>
            </td>
            <td>
                <span>{{product?.lastRunAt ? createdDate(product?.lastRunAt) : ''}}</span>
            </td>
            <td>
                <span>{{product?.createdAt ? createdDate(product?.createdAt) : ''}}</span>
            </td>
            <td>
                <span>{{product?.createdBy ? product?.createdBy : ''}}</span>
             </td>
            <td>
                <span>{{product?.vendor?.name ? product.vendor.name : ''}}</span>
            </td>
            <td>
                <span *ngFor="let line of actionItems; let i = index;">
                    <a class="action-icons glyphicon {{line?.icon}}" (click)="navigateTo(product, i)"></a>
                </span>
            </td>
        </ng-template>
    </app-job-details>
    <app-upstart-modal *ngIf="createNewKeyword" [modalTitle]="modalTitle">
        <div class="add-modal-body" id="create-modal">
            <form *ngIf="!jobCreated" (ngSubmit)="addKeywords()">
                <div class="form-group">
                    <label for="jobTitle" class="col-form-label">Job Title</label>
                    <div>
                        <textarea name="jobTitle" class="form-control-plaintext" id="jobTitle" [(ngModel)]="jobTitle" required [ngModelOptions]="{standalone: true}"></textarea>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-form-label">Keyword Input Mode</label>
                    <div>
                        <input [(ngModel)]="keywordType" type="radio" class="form-check-input" name="keywordType" id="inlineRadio1" value="direct"
                            checked [ngModelOptions]="{standalone: true}">
                        <label class="form-check-label" for="inlineRadio1">Direct text input</label>
                        <input type="radio" class="form-check-input" name="keywordType" id="inlineRadio2" value="select">
                        <label [(ngModel)]="keywordType" class="form-check-label" for="inlineRadio2" [ngModelOptions]="{standalone: true}">Select from organic keywords</label>
                    </div>
                </div>
                <div class="form-group">
                    <label for="keywordName" class="col-form-label">Keyword Input</label>
                    <div>
                        <textarea type="textarea" [(ngModel)]="keywordInput" class="form-control-plaintext" id="keywordName" required [ngModelOptions]="{standalone: true}"></textarea>
                    </div>
                </div>
                <!-- <div class="form-group">
                    <label for="keywordName" class="col-form-label">Targeted Vendor</label>
                    <div>
                        <select class="browser-default custom-select">
                            <option selected>Open this select menu</option>
                            <option value="1">One</option>
                            <option value="2">Two</option>
                            <option value="3">Three</option>
                        </select>
                    </div>
                </div> -->
                <div class="form-group">
                    <button type="submit" class="add-keyword-button">Create Job</button>
                </div>
            </form>
            <div *ngIf="jobCreated">
                <span>Job Created Successfully</span>
            </div>
        </div>
    </app-upstart-modal>
    <app-loader [show]='productDetails?.length === 0'></app-loader>
</div>
<app-top-notification></app-top-notification>